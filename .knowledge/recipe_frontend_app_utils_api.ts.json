{"is_source_file": true, "format": "TypeScript", "description": "This file is a lightweight API client for the Recipe Explorer app. It defines types for recipes and paged responses, includes mock data for recipes, and provides functions to fetch recipes and individual recipe details either from a backend API or from the mock data as fallback.", "external_files": [], "external_methods": ["fetch"], "published": ["fetchRecipes", "fetchRecipeById", "getMockRecipes"], "classes": [], "methods": [{"name": "export async function fetchRecipes({ fetchRecipes", "description": "Fetch a paginated list of recipes, optionally filtered by a search query. Uses real API if available, otherwise falls back to mock data.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchRecipeById(id: string): Promise<Recipe | null> { fetchRecipeById", "description": "Fetch a recipe by its ID, using real API if available, otherwise from mock data.", "scope": "", "scopeKind": ""}, {"name": "export function getMockRecipes(): Recipe[] { getMockRecipes", "description": "Returns the predefined mock list of recipes for demos or initial favorites.", "scope": "", "scopeKind": ""}, {"name": "function getBaseUrl() { getBaseUrl", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function safeFetch<T>(url: string): Promise<T | null> { safeFetch", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "safeFetch"], "search-terms": ["API client", "Recipe Explorer", "fetchRecipes", "fetchRecipeById", "mock recipes", "TypeScript API"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "MOCK_RECIPES", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^const MOCK_RECIPES: Recipe[] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "PagedRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^export type PagedRecipes = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Recipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^export type Recipe = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^    const api = await safeFetch<PagedRecipes>(url.toString());$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^    const api = await safeFetch<Recipe>(url);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^  const base = getBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^  const base = getBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^  const base = import.meta.env.VITE_API_BASE || import.meta.env.VITE_BACKEND_URL || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "getBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "fetchRecipeById", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^export async function fetchRecipeById(id: string): Promise<Recipe | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^export async function fetchRecipes({$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "filtered", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^  const filtered = q$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "getBaseUrl", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^function getBaseUrl() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getMockRecipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^export function getMockRecipes(): Recipe[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^  const items = filtered.slice(start, start + pageSize);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^    const res = await fetch(url, { headers: { \"Content-Type\": \"application\\/json\" } });$/", "language": "TypeScript", "kind": "constant", "scope": "safeFetch", "scopeKind": "function"}, {"_type": "tag", "name": "safeFetch", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^async function safeFetch<T>(url: string): Promise<T | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^  const start = (page - 1) * pageSize;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^    const url = `${base.replace(\\/\\\\\\/+$\\/, \"\")}\\/recipes\\/${encodeURIComponent(id)}`;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipeById", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/api.ts", "pattern": "/^    const url = new URL(`${base.replace(\\/\\\\\\/+$\\/, \"\")}\\/recipes`);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchRecipes", "scopeKind": "function"}], "hash": "a0a1b40eb1b871e94ceda9c9c193319b", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/app/utils/api.ts", "revision_history": [{"27": ""}]}