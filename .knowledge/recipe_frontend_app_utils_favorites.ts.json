{"is_source_file": true, "format": "TypeScript", "description": "This file manages local storage for favorite recipes in a web application. It provides functions to read, write, add, remove, and check favorite recipes, serving as a UI-only persistence layer using localStorage.", "external_files": ["~/utils/api"], "external_methods": [], "published": ["getFavorites", "saveFavorite", "removeFavorite", "isFavorite"], "classes": [], "methods": [{"name": "function safeRead(): Recipe[] { safeRead", "description": "Reads the list of favorite recipes from localStorage, returning an empty array on errors or if not in a browser environment.", "scope": "", "scopeKind": ""}, {"name": "function safeWrite(recipes: Recipe[]) { safeWrite", "description": "Writes the list of favorite recipes to localStorage, silently ignoring errors.", "scope": "", "scopeKind": ""}, {"name": "export function getFavorites(): Recipe[] { getFavorites", "description": "Public interface to retrieve all favorite recipes.", "scope": "", "scopeKind": ""}, {"name": "export function saveFavorite(recipe: Recipe) { saveFavorite", "description": "Adds a recipe to favorites if it's not already present, ensuring no duplicates by id.", "scope": "", "scopeKind": ""}, {"name": "export function removeFavorite(id: string) { removeFavorite", "description": "Removes a recipe from favorites by its id.", "scope": "", "scopeKind": ""}, {"name": "export function isFavorite(id: string): boolean { isFavorite", "description": "Checks if a recipe with a given id is in the favorites list.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify"], "search-terms": ["favorites", "localStorage", "recipes", "persist", "UI-only"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "KEY", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^const KEY = \"recipe-explorer:favorites\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "getFavorites", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^export function getFavorites(): Recipe[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isFavorite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^export function isFavorite(id: string): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^  const list = safeRead().filter((r) => r.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "removeFavorite", "scopeKind": "function"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^  const list = safeRead();$/", "language": "TypeScript", "kind": "constant", "scope": "saveFavorite", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^    const parsed = JSON.parse(raw) as Recipe[];$/", "language": "TypeScript", "kind": "constant", "scope": "safeRead", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^    const raw = localStorage.getItem(KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "safeRead", "scopeKind": "function"}, {"_type": "tag", "name": "removeFavorite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^export function removeFavorite(id: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "safeRead", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^function safeRead(): Recipe[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "safeWrite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^function safeWrite(recipes: Recipe[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "saveFavorite", "path": "/home/kavia/workspace/code-generation/recipe-explorer-184403-184468/recipe_frontend/app/utils/favorites.ts", "pattern": "/^export function saveFavorite(recipe: Recipe) {$/", "language": "TypeScript", "kind": "function"}], "hash": "0236eadb33dfd637ee03b2ec627a6dde", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/app/utils/favorites.ts", "revision_history": [{"29": ""}]}